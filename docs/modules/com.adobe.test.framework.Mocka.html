<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Fields">Fields</a></li>
<li><a href="#Local_Functions">Local Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>com.adobe.test.framework.Mocka</strong></li>
  <li><a href="../modules/com.adobe.test.framework.default_mocks.html">com.adobe.test.framework.default_mocks</a></li>
  <li><a href="../modules/com.adobe.test.framework.require_lua.html">com.adobe.test.framework.require_lua</a></li>
  <li><a href="../modules/com.adobe.test.framework.server.html">com.adobe.test.framework.server</a></li>
  <li><a href="../modules/com.adobe.test.framework.ws_server.html">com.adobe.test.framework.ws_server</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>com.adobe.test.framework.Mocka</code></h1>
<p></p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#spy">spy (class, method, fn)</a></td>
	<td class="summary">Spy utility method that creates a spy.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#require">require (path)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#beforeEach">beforeEach (fn)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#xtest">xtest (description, ...)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#test">test (description, fn, assertFail)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#mock">mock (class, model)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#when">when (mockClass)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#calls">calls (method, times, ...)</a></td>
	<td class="summary"></td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#default_mocks">default_mocks</a></td>
	<td class="summary">should be here because of using global mocka definitions</td>
	</tr>
</table>
<h2><a href="#Local_Functions">Local Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#_makeFunction">_makeFunction (name, classToMock)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getCurrentRunInfo">getCurrentRunInfo ()</a></td>
	<td class="summary">Retrieves current run information</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#_clone">_clone (t)</a></td>
	<td class="summary">Makes a shallow copy</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#_makeDoReturnFunction">_makeDoReturnFunction (class)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#valToString">valToString (v)</a></td>
	<td class="summary">Converts a table to a string</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "spy"></a>
    <strong>spy (class, method, fn)</strong>
    </dt>
    <dd>
    Spy utility method that creates a spy.  Also returns the spy object when available


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">class</span>
         - the path as passed to require
        </li>
        <li><span class="parameter">method</span>
         - the method for stub
        </li>
        <li><span class="parameter">fn</span>
         - the callback to execute - the actual stub
        </li>
    </ul>





</dd>
    <dt>
    <a name = "require"></a>
    <strong>require (path)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">path</span>
         {string} - path to require
 Alters the real require to server either mock or real lua file - has same signature like lua require
 we force the reload of the package due to the beforeEach and the nature of mocking which gives us
 the possibility to make a function do something else for each test

        </li>
    </ul>





</dd>
    <dt>
    <a name = "beforeEach"></a>
    <strong>beforeEach (fn)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fn</span>
         {function} - the function to be ran beforeEach Test
 Saves the function in a variable in order to call it before each test for a suite

        </li>
    </ul>





</dd>
    <dt>
    <a name = "xtest"></a>
    <strong>xtest (description, ...)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">description</span>
          {string}
        </li>
        <li><span class="parameter">...</span>
         {optional}
 This method is used to ignore a test and records that a test has been ignored for the final report

        </li>
    </ul>





</dd>
    <dt>
    <a name = "test"></a>
    <strong>test (description, fn, assertFail)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">description</span>
         {string} - description of the test
        </li>
        <li><span class="parameter">fn</span>
         {function} - actual function that describes the test (logic of the test)
        </li>
        <li><span class="parameter">assertFail</span>
         {boolean} - specifing that I expect this test to fail - ussualy used for methods that throw errors
 This is the method used to specify to the framework that we want to run a test. Resets
 the mocks to the original state - no calls no return no latestCall, executes the beforeEach function if any
 than runs the test logic and counts if the test has failed or succeeded + duration.

        </li>
    </ul>





</dd>
    <dt>
    <a name = "mock"></a>
    <strong>mock (class, model)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">class</span>
         {string} name of the path to mock - this is the actual string that you give to require
        </li>
        <li><span class="parameter">model</span>
         {array} - an array of strings specifying which are the methods that we want to mock
 This function creates a mock class with the functions you provide in the model. Each of the functions have an
 internal representation like so: doSomething is mapped to __doSomething. By default a function does not do anything
 it just records the calls and the latest call arguments.
 The internal representation contain info about the number of calls the real name of the function, latestCallArguments
 and has a doReturn function. The doReturn function is normally used if you want a mocked function to do something.
 Example:
 local classToMock = mock("class", {"doSomething"})
 classToMock.__doSomething.doReturn = function()
      return 23
 end
        </li>
    </ul>





</dd>
    <dt>
    <a name = "when"></a>
    <strong>when (mockClass)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mockClass</span>
         - the mock object
 Public function that decorates mock objects with the call that is needed

        </li>
    </ul>





</dd>
    <dt>
    <a name = "calls"></a>
    <strong>calls (method, times, ...)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">method</span>
         {function} - the actual internal representation class.__internalMethod
        </li>
        <li><span class="parameter">times</span>
         {number} - the number of times a function was invoked
        </li>
        <li><span class="parameter">...</span>
         {array} [optional] - array of arguments. There is a numbering problem always start with the second argument,
 for example if we call a function with a, b, c than the arguments would be b, c, a (always the first argument becomes
 last.
 This method verifies that a method has been called a number of times with some arguments if present

        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Fields"></a>Fields</h2>

    <dl class="function">
    <dt>
    <a name = "default_mocks"></a>
    <strong>default_mocks</strong>
    </dt>
    <dd>
    should be here because of using global mocka definitions







</dd>
</dl>
    <h2 class="section-header "><a name="Local_Functions"></a>Local Functions</h2>

    <dl class="function">
    <dt>
    <a name = "_makeFunction"></a>
    <strong>_makeFunction (name, classToMock)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
         {string} - name of the function that we want to make
        </li>
        <li><span class="parameter">classToMock</span>
         {string} - name of the class we are making the function for
 Internal function - not to be used. This function creates a function with all the needed internals: calls, latestCallWith
 it also creates a real new function if specified. On call the function increments it's internals (calls) and saves
 the latestCallWithArguments. Also if present and a doReturn has been declared by a user than that function will be called
 with those parameters.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "getCurrentRunInfo"></a>
    <strong>getCurrentRunInfo ()</strong>
    </dt>
    <dd>
    Retrieves current run information



    <h3>Returns:</h3>
    <ol>

        {currentSuiteNumber, currentSuiteInfo, currentTestNumber, currentTestInfo}
    </ol>




</dd>
    <dt>
    <a name = "_clone"></a>
    <strong>_clone (t)</strong>
    </dt>
    <dd>
    Makes a shallow copy


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">t</span>
         object - the object to clone
        </li>
    </ul>





</dd>
    <dt>
    <a name = "_makeDoReturnFunction"></a>
    <strong>_makeDoReturnFunction (class)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">class</span>
         - full fledged class as you see it in the require
 Public function used only in before each - to spy on an object - (stub the replacement)

        </li>
    </ul>





</dd>
    <dt>
    <a name = "valToString"></a>
    <strong>valToString (v)</strong>
    </dt>
    <dd>
    Converts a table to a string


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">v</span>
         table
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2018-05-30 10:51:17 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
